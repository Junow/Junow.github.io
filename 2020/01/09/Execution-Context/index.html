
<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Junow">
    <title>Execution Context - Junow</title>
    <meta name="author" content="Junow">
    
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Junow","sameAs":["https://github.com/junow","mailto:taristmas@gmail.com"]},"articleBody":"closure를 알아보다가, Lexical scoping 알아보다가 여기까지 왔네요.\n\n\nSukhjinder Arora의 Medium 글 - Understanding Execution Context and Execution Stack in Javascript 에 대한 번역본입니다.\nexecution context 의 3가지 종류\n\nglobal execution context\nfunctional execution context\neval function execution context\n\nexecution context 실행과정\n\ncreation phase\nLexicalEnvironment 컴포넌트 생성\nEnvironment Records\nReference to the outer environment\nThis binding\n\n\nVariableEnvironment 컴포넌트 생성\nEnvironment Records\nReference to the outer environment\nThis binding\n\n\n\n\nexecution phase\n각 변수, 함수에 실제 값이 매핑됨\n\n\n\nExecution ContextExecution context 는 간단히 말해, 자바스크립트 코드가 실행되는 환경에 대한 추상적인 개념입니다. 어떤 코드가 자바스크립트에서 실행되던 execution context 안에서 실행됩니다.\nExecution Content 의 종류\nGlobal Execution Context\n\n가장 기본적인 execution context 입니다. 함수 내부에 있지않고 global 하게 선언된 코드 입니다. 두가지 일을 수행하는데 브라우저같은 경우 window object 라는 global object 를 생성하고 global object 와 같은 this를 생성합니다. 여기서 global execution context는 프로그램 내에서 한개만 존재할 수 있습니다.\n\nFunctional Execution Context\n\n함수가 호출될 때 마다 해당 함수에 대해 새로운 execution context 가 생성됩니다. 각 함수는 각각의 execution context가 있지만 함수가 실행되거나 호출될 때마다 생성됩니다. 여기서는 몇개의 execution context 든 존재할 수 있습니다. 새로운 execution context 가 생성될 때마다 어떠한 특정 프로세스가 진행되는데 이는 앞으로 알아보도록 하겠습니다.\n\nEval Function Execution Context\n\neval 함수에서 실행되는 코드역시 자신만의 execution context를 가집니다. 하지만 eval 은 일반적으로 많이 사용되지는 않습니다.\nExecution Stackexecution stack 은 다른 프로그래밍 언어에서 calling stack 이라고도 알려져 있습니다. LIFO 구조를 가지는 stack 이며 코드가 실행되는 동안 생성되는 execution context를 저장하는데 사용됩니다.\n자바스크립트 엔진은 처음으로 스크립트를 발견하면 global execution context를 생성하고 현재 execution stack에 push 합니다. 자바스크립트 엔진이 함수 호출을 만날 때 마다 해당 함수에 대한 execution context 를 생성하고 스택에 최상단에 push 합니다.\n엔진은 stack 의 최상단에 있는 execution context를 실행합니다. 이 함수가 완료되는 execution stack 은 stack 에서 pop 되고 아래에 있는 context 로 실행이 넘어갑니다.\n이를 아래의 코드로 이해해봅시다.\n1234567891011let a = \"Hello World!\";function first() &#123;  console.log(\"Inside first function\");  second();  console.log(\"Again inside first function\");&#125;function second() &#123;  console.log(\"Inside second function\");&#125;first();console.log(\"Inside Global Execution Context\");\n\n\n위의 코드가 브라우저에서 load 될 때 자바스크립트 엔진은 global execution context 를 생성하고 현재 execution stack 에 push 합니다. first() 가 실행될 때 자바스크립트 엔진은 해당 함수에 대한 새로운 execution context를 생성하고 현재 execution stack 의 상단에 push 합니다.\nfirst() 안에서 second()가 실행될 때 자바스크립트 엔진은 또다시 execution context를 생성하고 현재 execution stack 에 push 합니다. second() 함수가 완료되면 execution context는 stack에서 pop 되고 실행은 아래(first())로 넘어갑니다.\nfirst() 가 완료되면 execution stack 은 스택에서 사라지고 실행은 global execution context로 넘어갑니다. 모든 코드가 실행되면 자바스크립트 엔진은 현재 stack 에서 global execution context를 제거합니다.\n어떻게 Execution Context가 생성되나요?지금까지 자바스크립트 엔진이 execution context를 어떻게 관리하는지 알아보았습니다. 이제 자바스크립트 엔진이 어떻게 execution context를 생성하는지 알아봅시다.\nexecution context는 두가지 페이즈로 구성되는데 1) Creation Phase 와 2) Execution Phase 입니다.\nThe Creation Phaseexecution context는 creation phase 에서 생성됩니다. 다음은 creation phase에서 일어나는 일들입니다.\n\nLexicalEnvironment 컴포넌트가 생성됩니다.\nVariableEnvironment 컴포넌트가 생성됩니다.\n\n그래서 execution context 는 다음과 같이 나타낼 수 있습니다.\n1234ExecutionContext = &#123;  LexicalEnvironment = &lt;ref. to LexicalEnvironment in memory&gt;,  VariableEnvironment = &lt;ref. to VariableEnvironment in  memory&gt;,&#125;\n\nLexical EnvironmentES6 에서는 Lexical Environment 를 다음과 같이 정의합니다.\nLexical Environment는 ECMAScript 코드의 어휘 중첩 구조를 기반으로 특정 변수 및 함수에 식별자를 연결하는데 사용되는 specification 유형입니다. Lexical Environment 는 환경 레코드와 외부 어휘 환경에 대한 null 참조로 구성됩니다.\n간단하게, lexical environment는 identifier-variable를 매핑하는 구조입니다. (여기서 identifier는 변수 / 함수의 이름을 가리키고, variable은 실제 객체 혹은 원시 타입에 대한 참조입니다.)\n예를들어, 다음 코드를 보면,\n12345var a = 20;var b = 40;function foo() &#123;  console.log(\"bar\");&#125;\n\n그래서 위의 코드에 대한 lexical environment는 다음과 같습니다.\n12345lexicalEnvironment = &#123;  a: 20,  b: 40,  foo: &lt;ref. to foo function&gt;&#125;\n\n각 lexical environment 는 3 가지 컴포넌트를 가집니다.\n\nEnvironment Record\nReference to the outer environment\nThis binding\n\nEnvironment Recordexvironment record 는 lexical environment 내에서 변수와 함수 선언이 저장되는 공간입니다.\nenvironment record에는 2가지 타입이 있습니다.\n\nDeclarative environment record\n\n이름에서 알 수 있듯이, 변수 및 함수 선언을 저장합니다. 함수 코드의 lexical environment 에는 declarative environment record 가 포함되어 있습니다.\n\nObject environment record\n\nglobal code 에 대한 lexical environment 는 ovjective environment record를 포함합니다. 변수 및 함수 선언 외에도 개체 환경 레코드에는 전역 바인딩 개체 (브라우저의 window object) 도 저장됩니다. 따라서 각 바인딩 개체 속성 (브라우저의 경우 브라우저에서 창 개체에 제공한 속성 및 메소드 포함) 에 대해 레코드에 새 항목이 만들어집니다.\nNote - 함수 코드의 경우 환경 레코드에는 함수에 전달된 인덱스와 arguments와 함수에 전달된 arguments의 길이 간의 매핑이 포함 된 arguments 객체도 포함됩니다. 예를 들어 아래 함수의 인수 객체는 다음과 같습니다.\n123456function foo(a, b) &#123;  var c = a + b;&#125;foo(2, 3);// argument objectArguments: &#123;0: 2, 1: 3, length: 2&#125;,\n\nReference to the Outer EnvironmentReference to the outer environment 는 외부의 lexical environment에 접근하는 것을 의미합니다. 이는 자바스크립트 엔진이 현재 lexical environment 에서 변수를 찾을 수 없을 때 외부 environment의 내부 변수를 바라볼 수 있다는 뜻입니다.\nThis Binding여기서 this 의 값이 결정됩니다.\nglobal execution context 에서 this 의 값은 global object를 가리킵니다. (브라우저의 경우 this는 window object를 가리킴)\n함수 execution context 에서 this는 함수 호출 방법에 따라 다릅니다. 만약 object reference 에 의해 호출되었다면 this의 값은 해당 object 가 되고 그렇지 않으면 global object 혹은 undifined 가 됩니다.\n123456789101112const person = &#123;  name: \"peter\",  birthYear: 1994,  calcAge: function() &#123;    console.log(2018 - this.birthYear);  &#125;&#125;;person.calcAge();// 'this' refers to 'person', because 'calcAge' was called with //'person' object referenceconst calculateAge = person.calcAge;calculateAge();// 'this' refers to the global window object, because no object reference was given\n\n추상적으로 lexical environment 는 수도코드로 다음과 같이 생겼다.\n1234567891011121314151617181920GlobalExectionContext = &#123;  LexicalEnvironment: &#123;    EnvironmentRecord: &#123;      Type: \"Object\",      // Identifier bindings go here    &#125;    outer: &lt;null&gt;,    this: &lt;global object&gt;  &#125;&#125;FunctionExectionContext = &#123;  LexicalEnvironment: &#123;    EnvironmentRecord: &#123;      Type: \"Declarative\",      // Identifier bindings go here    &#125;    outer: &lt;Global or outer function environment reference&gt;,    this: &lt;depends on how function is called&gt;  &#125;&#125;\n\nVariable Environment이 또한 execution context 내에서 variable statements에 의해 작성된 바인딩을 보유하는 Lexical Environment 입니다.\n위에 쓰여 있듯이 variable environment 역시 lexical environment 이고 위에 정의된것 처럼 lexical environment 의 모든 속성과 컴포넌트를 가지고 있습니다.\nES6 에서 LexicalEnvironment 컴포넌트과 VariableEnvironment 컴포넌트 사이의 다른점은 전자는 함수 선언과 변수 (let 과 const) 바인딩에 사용되고 후자는 변수 (var) 바인딩만 저장하는데 사용된다는 것입니다.\nExecution Phase이 단계에서 모든 변수에 대한 할당이 완료되고 코드가 최종적으로 실행됩니다.\nExample12345678910let a = 20;const b = 30;var c;function multiply(e, f) &#123;  var g = 20;  return e * f * g;&#125;c = multiply(20, 30);\n\n위의 코드가 실행될 때 자바스크립트 엔진은 global code 실행을 위한 global execution context를 생성한다. 그래서 global execution context는 creation phase에서 다음과 같이 나타납니다.\n12345678910111213141516171819202122GlobalExectionContext = &#123;  LexicalEnvironment: &#123;    EnvironmentRecord: &#123;      Type: \"Object\",      // Identifier bindings go here      a: &lt; uninitialized &gt;,      b: &lt; uninitialized &gt;,      multiply: &lt; func &gt;    &#125;    outer: &lt;null&gt;,    ThisBinding: &lt;Global Object&gt;  &#125;,  VariableEnvironment: &#123;    EnvironmentRecord: &#123;      Type: \"Object\",      // Identifier bindings go here      c: undefined,    &#125;    outer: &lt;null&gt;,    ThisBinding: &lt;Global Object&gt;  &#125;&#125;\n\nexecution phase 에서 변수에 대한 할당이 끝이나고 global execution context 는 다음과 같습니다.\n12345678910111213141516171819202122GlobalExectionContext = &#123;LexicalEnvironment: &#123;    EnvironmentRecord: &#123;      Type: \"Object\",      // Identifier bindings go here      a: 20,      b: 30,      multiply: &lt; func &gt;    &#125;    outer: &lt;null&gt;,    ThisBinding: &lt;Global Object&gt;  &#125;,VariableEnvironment: &#123;    EnvironmentRecord: &#123;      Type: \"Object\",      // Identifier bindings go here      c: undefined,    &#125;    outer: &lt;null&gt;,    ThisBinding: &lt;Global Object&gt;  &#125;&#125;\n\n함수 multiply(20, 30) 이 호출되면 새로운 function execution context가 생성되고 함수 코드가 실행된다. 그래서 creation phase에서 function execution context는 다음과 같다.\n1234567891011121314151617181920FunctionExectionContext = &#123;LexicalEnvironment: &#123;    EnvironmentRecord: &#123;      Type: \"Declarative\",      // Identifier bindings go here      Arguments: &#123;0: 20, 1: 30, length: 2&#125;,    &#125;,    outer: &lt;GlobalLexicalEnvironment&gt;,    ThisBinding: &lt;Global Object or undefined&gt;,  &#125;,VariableEnvironment: &#123;    EnvironmentRecord: &#123;      Type: \"Declarative\",      // Identifier bindings go here      g: undefined    &#125;,    outer: &lt;GlobalLexicalEnvironment&gt;,    ThisBinding: &lt;Global Object or undefined&gt;  &#125;&#125;\n\n그 후, execution context는 execution phase 를 거치며 이는 함수 내부의 변수에 대한 지정이 완료 되었음을 의미합니다. 따라서 function execution context는 다음과 같이 나타납니다.\n1234567891011121314151617181920FunctionExectionContext = &#123;LexicalEnvironment: &#123;    EnvironmentRecord: &#123;      Type: \"Declarative\",      // Identifier bindings go here      Arguments: &#123;0: 20, 1: 30, length: 2&#125;,    &#125;,    outer: &lt;GlobalLexicalEnvironment&gt;,    ThisBinding: &lt;Global Object or undefined&gt;,  &#125;,VariableEnvironment: &#123;    EnvironmentRecord: &#123;      Type: \"Declarative\",      // Identifier bindings go here      g: 20    &#125;,    outer: &lt;GlobalLexicalEnvironment&gt;,    ThisBinding: &lt;Global Object or undefined&gt;  &#125;&#125;\n\n함수가 완료된 후 반환 된 값을 c 에 저장됩니다. 그래서 global lexical environment 는 업데이트 됩니다. 그 후, global code가 완료되고 프로그램은 종료됩니다.\nNote - let 과 const 변수에는 creation phase 에서 연관된 값이 없지만 var 는 undefined 로 설정되어 있습니다.\n그 이유는 creation phase에서 함수 선언이 환경에 완전히 저장되는 동안 코드는 함수와 변수 선언을 위해 스캔 되기 때문에 변수들은 var의 경우 undefined로 초기화되고 let과 const 의 경우 uninitialized 로 남아 있게 됩니다.\n이것이 어떻게 여러분들이 let 과 const 변수가 선언되기 전에 엑세스하면 reference error 생기지만 var 변수가 선언되지 전에는 접근할 수 있는지에 대한 이유입니다.\n이는 우리가 hoisting 이라고 부르는 것입니다.\nNote - execution phase 에서 만약 자바스크립트 엔진이 소스코드에 선언된 실제 위치에서 let 변수에 대한 값을 찾지 못하면 undefined 을 지정합니다.\nConclusion우리는 자바스크립트 프로그램이 내부적으로 어떻게 실행되는지에 대해 알아보았습니다. 훌륭한 자바스크립트 개발자가 되기 위해 이 모든 개념을 전부 배울 필요는 없지만 위의 개념들을 잘 이해하면 hoisting, scope 그리고 closure 와 같은 다른 개념을 더 쉽고 깊이 이해하는데 도움이 됩니다.\n","dateCreated":"2020-01-09T12:26:02+09:00","dateModified":"2020-01-09T12:33:13+09:00","datePublished":"2020-01-09T12:26:02+09:00","description":"closure를 알아보다가, Lexical scoping 알아보다가 여기까지 왔네요.","headline":"Execution Context","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"http://yoursite.com/2020/01/09/Execution-Context/"},"publisher":{"@type":"Organization","name":"Junow","sameAs":["https://github.com/junow","mailto:taristmas@gmail.com"]},"url":"http://yoursite.com/2020/01/09/Execution-Context/","keywords":"JavaScript"}</script>
    <meta name="description" content="closure를 알아보다가, Lexical scoping 알아보다가 여기까지 왔네요.">
<meta property="og:type" content="blog">
<meta property="og:title" content="Execution Context">
<meta property="og:url" content="http://yoursite.com/2020/01/09/Execution-Context/index.html">
<meta property="og:site_name" content="Junow">
<meta property="og:description" content="closure를 알아보다가, Lexical scoping 알아보다가 여기까지 왔네요.">
<meta property="og:locale" content="ko_KR">
<meta property="og:image" content="http://yoursite.com/2020/01/09/Execution-Context/execution-context-stack.png">
<meta property="article:published_time" content="2020-01-09T03:26:02.000Z">
<meta property="article:modified_time" content="2020-01-09T03:33:13.004Z">
<meta property="article:author" content="Junow">
<meta property="article:tag" content="JavaScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2020/01/09/Execution-Context/execution-context-stack.png">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/all.css">

    
<link rel="stylesheet" href="/assets/css/jquery.fancybox.css">

    
<link rel="stylesheet" href="/assets/css/thumbs.css">

    
<link rel="stylesheet" href="/assets/css/tranquilpeak.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/%20"
            aria-label=""
        >
            Junow
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="링크 열기: /#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->
 
<nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
     
    <ul class="sidebar-buttons">
      
      <li class="sidebar-button">
         <a class="sidebar-button-link "  href="/"
           title="Home" > 
          <i
            class="sidebar-button-icon fa fa-home"
            aria-hidden="true"
          ></i>
          <span class="sidebar-button-desc"
            >Home</span
          >
        </a>
      </li>
      
      <li class="sidebar-button">
         <a class="sidebar-button-link " 
          href="/all-categories"  title="카테고리" > 
          <i
            class="sidebar-button-icon fa fa-bookmark"
            aria-hidden="true"
          ></i>
          <span class="sidebar-button-desc"
            >카테고리</span
          >
        </a>
      </li>
      
      <li class="sidebar-button">
         <a class="sidebar-button-link " 
          href="/all-tags"  title="태그" > 
          <i
            class="sidebar-button-icon fa fa-tags"
            aria-hidden="true"
          ></i>
          <span class="sidebar-button-desc"
            >태그</span
          >
        </a>
      </li>
      
      <li class="sidebar-button">
         <a class="sidebar-button-link open-algolia-search" 
          href="#search"  title="검색" > 
          <i
            class="sidebar-button-icon fa fa-search"
            aria-hidden="true"
          ></i>
          <span class="sidebar-button-desc"
            >검색</span
          >
        </a>
      </li>
      
    </ul>
    
    <ul class="sidebar-buttons">
      
      <li class="sidebar-button">
        
        <a
          class="sidebar-button-link "
          href="https://github.com/junow"
          target="_blank"
          rel="noopener"
          title="GitHub"
        >
          
          <i
            class="sidebar-button-icon fab fa-github"
            aria-hidden="true"
          ></i>
          <span class="sidebar-button-desc"
            >GitHub</span
          >
        </a>
      </li>
      
      <li class="sidebar-button">
        
        <a
          class="sidebar-button-link "
          href="mailto:taristmas@gmail.com"
          target="_blank"
          rel="noopener"
          title="Mail"
        >
          
          <i
            class="sidebar-button-icon fa fa-envelope"
            aria-hidden="true"
          ></i>
          <span class="sidebar-button-desc"
            >Mail</span
          >
        </a>
      </li>
      
    </ul>
    
  </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Execution Context
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2020-01-09T12:26:02+09:00">
	
		    2020/01/09
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/categories/JavaScript/">JavaScript</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p>closure를 알아보다가, Lexical scoping 알아보다가 여기까지 왔네요.</p>
<a id="more"></a>

<p><a href="https://blog.bitsrc.io/understanding-execution-context-and-execution-stack-in-javascript-1c9ea8642dd0" target="_blank" rel="noopener">Sukhjinder Arora의 Medium 글 - Understanding Execution Context and Execution Stack in Javascript</a> 에 대한 번역본입니다.</p>
<p>execution context 의 3가지 종류</p>
<ul>
<li>global execution context</li>
<li>functional execution context</li>
<li>eval function execution context</li>
</ul>
<p>execution context 실행과정</p>
<ul>
<li>creation phase<ul>
<li>LexicalEnvironment 컴포넌트 생성<ul>
<li>Environment Records</li>
<li>Reference to the outer environment</li>
<li>This binding</li>
</ul>
</li>
<li>VariableEnvironment 컴포넌트 생성<ul>
<li>Environment Records</li>
<li>Reference to the outer environment</li>
<li>This binding</li>
</ul>
</li>
</ul>
</li>
<li>execution phase<ul>
<li>각 변수, 함수에 실제 값이 매핑됨</li>
</ul>
</li>
</ul>
<h1 id="Execution-Context"><a href="#Execution-Context" class="headerlink" title="Execution Context"></a>Execution Context</h1><p>Execution context 는 간단히 말해, 자바스크립트 코드가 실행되는 환경에 대한 추상적인 개념입니다. 어떤 코드가 자바스크립트에서 실행되던 execution context 안에서 실행됩니다.</p>
<h2 id="Execution-Content-의-종류"><a href="#Execution-Content-의-종류" class="headerlink" title="Execution Content 의 종류"></a>Execution Content 의 종류</h2><ul>
<li>Global Execution Context</li>
</ul>
<p>가장 기본적인 execution context 입니다. 함수 내부에 있지않고 global 하게 선언된 코드 입니다. 두가지 일을 수행하는데 브라우저같은 경우 window object 라는 global object 를 생성하고 global object 와 같은 <code>this</code>를 생성합니다. 여기서 global execution context는 프로그램 내에서 한개만 존재할 수 있습니다.</p>
<ul>
<li>Functional Execution Context</li>
</ul>
<p>함수가 호출될 때 마다 해당 함수에 대해 새로운 execution context 가 생성됩니다. 각 함수는 각각의 execution context가 있지만 함수가 실행되거나 호출될 때마다 생성됩니다. 여기서는 몇개의 execution context 든 존재할 수 있습니다. 새로운 execution context 가 생성될 때마다 어떠한 특정 프로세스가 진행되는데 이는 앞으로 알아보도록 하겠습니다.</p>
<ul>
<li>Eval Function Execution Context</li>
</ul>
<p><code>eval</code> 함수에서 실행되는 코드역시 자신만의 execution context를 가집니다. 하지만 <code>eval</code> 은 일반적으로 많이 사용되지는 않습니다.</p>
<h1 id="Execution-Stack"><a href="#Execution-Stack" class="headerlink" title="Execution Stack"></a>Execution Stack</h1><p>execution stack 은 다른 프로그래밍 언어에서 calling stack 이라고도 알려져 있습니다. LIFO 구조를 가지는 stack 이며 코드가 실행되는 동안 생성되는 execution context를 저장하는데 사용됩니다.</p>
<p>자바스크립트 엔진은 처음으로 스크립트를 발견하면 global execution context를 생성하고 현재 execution stack에 push 합니다. 자바스크립트 엔진이 함수 호출을 만날 때 마다 해당 함수에 대한 execution context 를 생성하고 스택에 최상단에 push 합니다.</p>
<p>엔진은 stack 의 최상단에 있는 execution context를 실행합니다. 이 함수가 완료되는 execution stack 은 stack 에서 pop 되고 아래에 있는 context 로 실행이 넘어갑니다.</p>
<p>이를 아래의 코드로 이해해봅시다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="string">"Hello World!"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">first</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"Inside first function"</span>);</span><br><span class="line">  second();</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"Again inside first function"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">second</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"Inside second function"</span>);</span><br><span class="line">&#125;</span><br><span class="line">first();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Inside Global Execution Context"</span>);</span><br></pre></td></tr></table></figure>

<p><img src="execution-context-stack.png" alt="An Execution Context Stack for the above code"></p>
<p>위의 코드가 브라우저에서 load 될 때 자바스크립트 엔진은 global execution context 를 생성하고 현재 execution stack 에 push 합니다. <code>first()</code> 가 실행될 때 자바스크립트 엔진은 해당 함수에 대한 새로운 execution context를 생성하고 현재 execution stack 의 상단에 push 합니다.</p>
<p><code>first()</code> 안에서 <code>second()</code>가 실행될 때 자바스크립트 엔진은 또다시 execution context를 생성하고 현재 execution stack 에 push 합니다. <code>second()</code> 함수가 완료되면 execution context는 stack에서 pop 되고 실행은 아래(<code>first()</code>)로 넘어갑니다.</p>
<p><code>first()</code> 가 완료되면 execution stack 은 스택에서 사라지고 실행은 global execution context로 넘어갑니다. 모든 코드가 실행되면 자바스크립트 엔진은 현재 stack 에서 global execution context를 제거합니다.</p>
<h1 id="어떻게-Execution-Context가-생성되나요"><a href="#어떻게-Execution-Context가-생성되나요" class="headerlink" title="어떻게 Execution Context가 생성되나요?"></a>어떻게 Execution Context가 생성되나요?</h1><p>지금까지 자바스크립트 엔진이 execution context를 어떻게 관리하는지 알아보았습니다. 이제 자바스크립트 엔진이 어떻게 execution context를 생성하는지 알아봅시다.</p>
<p>execution context는 두가지 페이즈로 구성되는데 <strong>1) Creation Phase</strong> 와 <strong>2) Execution Phase</strong> 입니다.</p>
<h1 id="The-Creation-Phase"><a href="#The-Creation-Phase" class="headerlink" title="The Creation Phase"></a>The Creation Phase</h1><p>execution context는 creation phase 에서 생성됩니다. 다음은 creation phase에서 일어나는 일들입니다.</p>
<ol>
<li>LexicalEnvironment 컴포넌트가 생성됩니다.</li>
<li>VariableEnvironment 컴포넌트가 생성됩니다.</li>
</ol>
<p>그래서 execution context 는 다음과 같이 나타낼 수 있습니다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ExecutionContext = &#123;</span><br><span class="line">  LexicalEnvironment = <span class="xml"><span class="tag">&lt;<span class="name">ref.</span> <span class="attr">to</span> <span class="attr">LexicalEnvironment</span> <span class="attr">in</span> <span class="attr">memory</span>&gt;</span>,</span></span><br><span class="line">  VariableEnvironment = &lt;ref. to VariableEnvironment in  memory&gt;,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Lexical-Environment"><a href="#Lexical-Environment" class="headerlink" title="Lexical Environment"></a><strong>Lexical Environment</strong></h2><p>ES6 에서는 Lexical Environment 를 다음과 같이 정의합니다.</p>
<p>Lexical Environment는 ECMAScript 코드의 어휘 중첩 구조를 기반으로 특정 변수 및 함수에 식별자를 연결하는데 사용되는 specification 유형입니다. Lexical Environment 는 환경 레코드와 외부 어휘 환경에 대한 null 참조로 구성됩니다.</p>
<p>간단하게, lexical environment는 <strong>identifier-variable</strong>를 매핑하는 구조입니다. (여기서 <strong>identifier</strong>는 변수 / 함수의 이름을 가리키고, <strong>variable</strong>은 실제 객체 혹은 원시 타입에 대한 참조입니다.)</p>
<p>예를들어, 다음 코드를 보면,</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">40</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">"bar"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>그래서 위의 코드에 대한 lexical environment는 다음과 같습니다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">lexicalEnvironment = &#123;</span><br><span class="line">  a: <span class="number">20</span>,</span><br><span class="line">  b: <span class="number">40</span>,</span><br><span class="line">  foo: <span class="xml"><span class="tag">&lt;<span class="name">ref.</span> <span class="attr">to</span> <span class="attr">foo</span> <span class="attr">function</span>&gt;</span></span></span><br><span class="line"><span class="xml">&#125;</span></span><br></pre></td></tr></table></figure>

<p>각 lexical environment 는 3 가지 컴포넌트를 가집니다.</p>
<ol>
<li><strong>Environment Record</strong></li>
<li><strong>Reference to the outer environment</strong></li>
<li><strong>This binding</strong></li>
</ol>
<h2 id="Environment-Record"><a href="#Environment-Record" class="headerlink" title="Environment Record"></a><strong>Environment Record</strong></h2><p>exvironment record 는 lexical environment 내에서 변수와 함수 선언이 저장되는 공간입니다.</p>
<p>environment record에는 2가지 타입이 있습니다.</p>
<ul>
<li><strong>Declarative environment record</strong></li>
</ul>
<p>이름에서 알 수 있듯이, 변수 및 함수 선언을 저장합니다. 함수 코드의 lexical environment 에는 declarative environment record 가 포함되어 있습니다.</p>
<ul>
<li><strong>Object environment record</strong></li>
</ul>
<p>global code 에 대한 lexical environment 는 ovjective environment record를 포함합니다. 변수 및 함수 선언 외에도 개체 환경 레코드에는 전역 바인딩 개체 (브라우저의 window object) 도 저장됩니다. 따라서 각 바인딩 개체 속성 (브라우저의 경우 브라우저에서 창 개체에 제공한 속성 및 메소드 포함) 에 대해 레코드에 새 항목이 만들어집니다.</p>
<p><strong>Note</strong> - 함수 코드의 경우 환경 레코드에는 함수에 전달된 인덱스와 arguments와 함수에 전달된 arguments의 길이 간의 매핑이 포함 된 <code>arguments</code> 객체도 포함됩니다. 예를 들어 아래 함수의 인수 객체는 다음과 같습니다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> c = a + b;</span><br><span class="line">&#125;</span><br><span class="line">foo(<span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"><span class="comment">// argument object</span></span><br><span class="line">Arguments: &#123;<span class="number">0</span>: <span class="number">2</span>, <span class="number">1</span>: <span class="number">3</span>, <span class="attr">length</span>: <span class="number">2</span>&#125;,</span><br></pre></td></tr></table></figure>

<h2 id="Reference-to-the-Outer-Environment"><a href="#Reference-to-the-Outer-Environment" class="headerlink" title="Reference to the Outer Environment"></a><strong>Reference to the Outer Environment</strong></h2><p>Reference to the outer environment 는 외부의 lexical environment에 접근하는 것을 의미합니다. 이는 자바스크립트 엔진이 현재 lexical environment 에서 변수를 찾을 수 없을 때 외부 environment의 내부 변수를 바라볼 수 있다는 뜻입니다.</p>
<h2 id="This-Binding"><a href="#This-Binding" class="headerlink" title="This Binding"></a><strong>This Binding</strong></h2><p>여기서 <code>this</code> 의 값이 결정됩니다.</p>
<p>global execution context 에서 <code>this</code> 의 값은 global object를 가리킵니다. (브라우저의 경우 <code>this</code>는 window object를 가리킴)</p>
<p>함수 execution context 에서 <code>this</code>는 함수 호출 방법에 따라 다릅니다. 만약 object reference 에 의해 호출되었다면 <code>this</code>의 값은 해당 object 가 되고 그렇지 않으면 global object 혹은 <code>undifined</code> 가 됩니다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  name: <span class="string">"peter"</span>,</span><br><span class="line">  birthYear: <span class="number">1994</span>,</span><br><span class="line">  calcAge: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2018</span> - <span class="keyword">this</span>.birthYear);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">person.calcAge();</span><br><span class="line"><span class="comment">// 'this' refers to 'person', because 'calcAge' was called with //'person' object reference</span></span><br><span class="line"><span class="keyword">const</span> calculateAge = person.calcAge;</span><br><span class="line">calculateAge();</span><br><span class="line"><span class="comment">// 'this' refers to the global window object, because no object reference was given</span></span><br></pre></td></tr></table></figure>

<p>추상적으로 lexical environment 는 수도코드로 다음과 같이 생겼다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">GlobalExectionContext = &#123;</span><br><span class="line">  LexicalEnvironment: &#123;</span><br><span class="line">    EnvironmentRecord: &#123;</span><br><span class="line">      Type: <span class="string">"Object"</span>,</span><br><span class="line">      <span class="comment">// Identifier bindings go here</span></span><br><span class="line">    &#125;</span><br><span class="line">    outer: <span class="xml"><span class="tag">&lt;<span class="name">null</span>&gt;</span>,</span></span><br><span class="line">    this: &lt;global object&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">FunctionExectionContext = &#123;</span><br><span class="line">  LexicalEnvironment: &#123;</span><br><span class="line">    EnvironmentRecord: &#123;</span><br><span class="line">      Type: "Declarative",</span><br><span class="line">      // Identifier bindings go here</span><br><span class="line">    &#125;</span><br><span class="line">    outer: &lt;Global or outer function environment reference&gt;,</span><br><span class="line">    this: &lt;depends on how function is called&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Variable-Environment"><a href="#Variable-Environment" class="headerlink" title="Variable Environment"></a><strong>Variable Environment</strong></h2><p>이 또한 execution context 내에서 variable statements에 의해 작성된 바인딩을 보유하는 Lexical Environment 입니다.</p>
<p>위에 쓰여 있듯이 variable environment 역시 lexical environment 이고 위에 정의된것 처럼 lexical environment 의 모든 속성과 컴포넌트를 가지고 있습니다.</p>
<p>ES6 에서 <strong>LexicalEnvironment</strong> 컴포넌트과 <strong>VariableEnvironment</strong> 컴포넌트 사이의 다른점은 전자는 함수 선언과 변수 (<code>let</code> 과 <code>const</code>) 바인딩에 사용되고 후자는 변수 (<code>var</code>) 바인딩만 저장하는데 사용된다는 것입니다.</p>
<h2 id="Execution-Phase"><a href="#Execution-Phase" class="headerlink" title="Execution Phase"></a>Execution Phase</h2><p>이 단계에서 모든 변수에 대한 할당이 완료되고 코드가 최종적으로 실행됩니다.</p>
<h2 id="Example"><a href="#Example" class="headerlink" title="Example"></a><strong>Example</strong></h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="number">20</span>;</span><br><span class="line"><span class="keyword">const</span> b = <span class="number">30</span>;</span><br><span class="line"><span class="keyword">var</span> c;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">multiply</span>(<span class="params">e, f</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> g = <span class="number">20</span>;</span><br><span class="line">  <span class="keyword">return</span> e * f * g;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">c = multiply(<span class="number">20</span>, <span class="number">30</span>);</span><br></pre></td></tr></table></figure>

<p>위의 코드가 실행될 때 자바스크립트 엔진은 global code 실행을 위한 global execution context를 생성한다. 그래서 global execution context는 creation phase에서 다음과 같이 나타납니다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">GlobalExectionContext = &#123;</span><br><span class="line">  LexicalEnvironment: &#123;</span><br><span class="line">    EnvironmentRecord: &#123;</span><br><span class="line">      Type: <span class="string">"Object"</span>,</span><br><span class="line">      <span class="comment">// Identifier bindings go here</span></span><br><span class="line">      a: <span class="xml"><span class="tag">&lt; <span class="attr">uninitialized</span> &gt;</span>,</span></span><br><span class="line"><span class="xml">      b: <span class="tag">&lt; <span class="attr">uninitialized</span> &gt;</span>,</span></span><br><span class="line"><span class="xml">      multiply: <span class="tag">&lt; <span class="attr">func</span> &gt;</span></span></span><br><span class="line"><span class="xml">    &#125;</span></span><br><span class="line">    outer: &lt;null&gt;,</span><br><span class="line">    ThisBinding: &lt;Global Object&gt;</span><br><span class="line">  &#125;,</span><br><span class="line">  VariableEnvironment: &#123;</span><br><span class="line">    EnvironmentRecord: &#123;</span><br><span class="line">      Type: "Object",</span><br><span class="line">      // Identifier bindings go here</span><br><span class="line">      c: undefined,</span><br><span class="line">    &#125;</span><br><span class="line">    outer: &lt;null&gt;,</span><br><span class="line">    ThisBinding: &lt;Global Object&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>execution phase 에서 변수에 대한 할당이 끝이나고 global execution context 는 다음과 같습니다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">GlobalExectionContext = &#123;</span><br><span class="line">LexicalEnvironment: &#123;</span><br><span class="line">    EnvironmentRecord: &#123;</span><br><span class="line">      Type: <span class="string">"Object"</span>,</span><br><span class="line">      <span class="comment">// Identifier bindings go here</span></span><br><span class="line">      a: <span class="number">20</span>,</span><br><span class="line">      b: <span class="number">30</span>,</span><br><span class="line">      multiply: <span class="xml"><span class="tag">&lt; <span class="attr">func</span> &gt;</span></span></span><br><span class="line"><span class="xml">    &#125;</span></span><br><span class="line">    outer: &lt;null&gt;,</span><br><span class="line">    ThisBinding: &lt;Global Object&gt;</span><br><span class="line">  &#125;,</span><br><span class="line">VariableEnvironment: &#123;</span><br><span class="line">    EnvironmentRecord: &#123;</span><br><span class="line">      Type: "Object",</span><br><span class="line">      // Identifier bindings go here</span><br><span class="line">      c: undefined,</span><br><span class="line">    &#125;</span><br><span class="line">    outer: &lt;null&gt;,</span><br><span class="line">    ThisBinding: &lt;Global Object&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>함수 <code>multiply(20, 30)</code> 이 호출되면 새로운 function execution context가 생성되고 함수 코드가 실행된다. 그래서 creation phase에서 function execution context는 다음과 같다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">FunctionExectionContext = &#123;</span><br><span class="line">LexicalEnvironment: &#123;</span><br><span class="line">    EnvironmentRecord: &#123;</span><br><span class="line">      Type: <span class="string">"Declarative"</span>,</span><br><span class="line">      <span class="comment">// Identifier bindings go here</span></span><br><span class="line">      Arguments: &#123;<span class="number">0</span>: <span class="number">20</span>, <span class="number">1</span>: <span class="number">30</span>, <span class="attr">length</span>: <span class="number">2</span>&#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    outer: <span class="xml"><span class="tag">&lt;<span class="name">GlobalLexicalEnvironment</span>&gt;</span>,</span></span><br><span class="line">    ThisBinding: &lt;Global Object or undefined&gt;,</span><br><span class="line">  &#125;,</span><br><span class="line">VariableEnvironment: &#123;</span><br><span class="line">    EnvironmentRecord: &#123;</span><br><span class="line">      Type: "Declarative",</span><br><span class="line">      // Identifier bindings go here</span><br><span class="line">      g: undefined</span><br><span class="line">    &#125;,</span><br><span class="line">    outer: &lt;GlobalLexicalEnvironment&gt;,</span><br><span class="line">    ThisBinding: &lt;Global Object or undefined&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>그 후, execution context는 execution phase 를 거치며 이는 함수 내부의 변수에 대한 지정이 완료 되었음을 의미합니다. 따라서 function execution context는 다음과 같이 나타납니다.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">FunctionExectionContext = &#123;</span><br><span class="line">LexicalEnvironment: &#123;</span><br><span class="line">    EnvironmentRecord: &#123;</span><br><span class="line">      Type: <span class="string">"Declarative"</span>,</span><br><span class="line">      <span class="comment">// Identifier bindings go here</span></span><br><span class="line">      Arguments: &#123;<span class="number">0</span>: <span class="number">20</span>, <span class="number">1</span>: <span class="number">30</span>, <span class="attr">length</span>: <span class="number">2</span>&#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    outer: <span class="xml"><span class="tag">&lt;<span class="name">GlobalLexicalEnvironment</span>&gt;</span>,</span></span><br><span class="line">    ThisBinding: &lt;Global Object or undefined&gt;,</span><br><span class="line">  &#125;,</span><br><span class="line">VariableEnvironment: &#123;</span><br><span class="line">    EnvironmentRecord: &#123;</span><br><span class="line">      Type: "Declarative",</span><br><span class="line">      // Identifier bindings go here</span><br><span class="line">      g: 20</span><br><span class="line">    &#125;,</span><br><span class="line">    outer: &lt;GlobalLexicalEnvironment&gt;,</span><br><span class="line">    ThisBinding: &lt;Global Object or undefined&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>함수가 완료된 후 반환 된 값을 c 에 저장됩니다. 그래서 global lexical environment 는 업데이트 됩니다. 그 후, global code가 완료되고 프로그램은 종료됩니다.</p>
<p><strong>Note</strong> - <code>let</code> 과 <code>const</code> 변수에는 creation phase 에서 연관된 값이 없지만 <code>var</code> 는 <code>undefined</code> 로 설정되어 있습니다.</p>
<p>그 이유는 creation phase에서 함수 선언이 환경에 완전히 저장되는 동안 코드는 함수와 변수 선언을 위해 스캔 되기 때문에 변수들은 <code>var</code>의 경우 <code>undefined</code>로 초기화되고 <code>let</code>과 <code>const</code> 의 경우 uninitialized 로 남아 있게 됩니다.</p>
<p>이것이 어떻게 여러분들이 <code>let</code> 과 <code>const</code> 변수가 선언되기 전에 엑세스하면 reference error 생기지만 <code>var</code> 변수가 선언되지 전에는 접근할 수 있는지에 대한 이유입니다.</p>
<p>이는 우리가 <code>hoisting</code> 이라고 부르는 것입니다.</p>
<p><strong>Note</strong> - execution phase 에서 만약 자바스크립트 엔진이 소스코드에 선언된 실제 위치에서 <code>let</code> 변수에 대한 값을 찾지 못하면 <code>undefined</code> 을 지정합니다.</p>
<h1 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a><strong>Conclusion</strong></h1><p>우리는 자바스크립트 프로그램이 내부적으로 어떻게 실행되는지에 대해 알아보았습니다. 훌륭한 자바스크립트 개발자가 되기 위해 이 모든 개념을 전부 배울 필요는 없지만 위의 개념들을 잘 이해하면 <code>hoisting</code>, <code>scope</code> 그리고 <code>closure</code> 와 같은 다른 개념을 더 쉽고 깊이 이해하는데 도움이 됩니다.</p>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">태그</span><br/>
                
    <a class="tag tag--primary tag--small t-link" href="/tags/JavaScript/" rel="tag">JavaScript</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a
                        class="post-action-btn btn btn--disabled"
                        aria-hidden="true"
                    >
                        
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2019/12/29/React-Key-In-List/"
                    data-tooltip="React-Key-In-List"
                    aria-label="다음: React-Key-In-List"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2020/01/09/Execution-Context/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=http://yoursite.com/2020/01/09/Execution-Context/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=http://yoursite.com/2020/01/09/Execution-Context/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="댓글을 남겨주세요"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
                <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript" target="_blank" rel="noopener">comments powered by Disqus.</a></noscript>
</div>
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2020 Junow. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    <a
                        class="post-action-btn btn btn--disabled"
                        aria-hidden="true"
                    >
                        
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2019/12/29/React-Key-In-List/"
                    data-tooltip="React-Key-In-List"
                    aria-label="다음: React-Key-In-List"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2020/01/09/Execution-Context/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=http://yoursite.com/2020/01/09/Execution-Context/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=http://yoursite.com/2020/01/09/Execution-Context/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
                <li class="post-action">
                    <a
                        class="post-action-btn btn btn--default"
                        href="#disqus_thread"
                        aria-label="댓글을 남겨주세요"
                    >
                        <i class="fa fa-comment"></i>
                    </a>
                </li>
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=http://yoursite.com/2020/01/09/Execution-Context/"
                        aria-label="Facebook에 공유하기"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Facebook에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=http://yoursite.com/2020/01/09/Execution-Context/"
                        aria-label="Twitter에 공유하기"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Twitter에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=http://yoursite.com/2020/01/09/Execution-Context/"
                        aria-label="Google+에 공유하기"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Google+에 공유하기</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">Junow</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/coke.jpeg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/jquery.js"></script>


<script src="/assets/js/jquery.fancybox.js"></script>


<script src="/assets/js/thumbs.js"></script>


<script src="/assets/js/tranquilpeak.js"></script>

<!--SCRIPTS END-->


    
        <script>
          var disqus_config = function() {
            this.page.url = 'http://yoursite.com/2020/01/09/Execution-Context/';
              
            this.page.identifier = '2020/01/09/Execution-Context/';
              
          };
          (function() {
            var d = document, s = d.createElement('script');
            var disqus_shortname = 'junow';
            s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
          })();
        </script>
    




    </body>
</html>
